{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen flex flex-col justify-center items-center overflow-hidden\"\n};\nconst _hoisted_2 = {\n  class: \"relative w-full mx-4 flex justify-center\"\n};\nconst _hoisted_3 = {\n  class: \"flex items-start space-x-6 mt-10\"\n};\nconst _hoisted_4 = {\n  class: \"relative overflow-x-auto shadow-md sm:rounded-lg w-2/3\"\n};\nconst _hoisted_5 = {\n  class: \"w-full text-sm text-left text-gray-600 dark:text-gray-300\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  class: \"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\"\n};\nconst _hoisted_8 = {\n  class: \"px-6 py-4\"\n};\nconst _hoisted_9 = {\n  class: \"px-6 py-4\"\n};\nconst _hoisted_10 = {\n  key: 0\n};\nconst _hoisted_11 = {\n  class: \"w-1/3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  const _component_FooterPage = _resolveComponent(\"FooterPage\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_NavBar, {\n    class: \"fixed bg-white text-green shadow-lg w-full z-50\"\n  }), _createElementVNode(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"h1\", {\n    class: \"font-bold text-center text-green-800 mb-20 text-4xl\"\n  }, \"Mail\", -1 /* HOISTED */)), _createCommentVNode(\" Barra de búsqueda \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Buscar...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => $setup.searchEmails && $setup.searchEmails(...args), [\"enter\"])),\n    class: \"w-1/2 pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-700\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.searchQuery]]), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"absolute inset-y-0 left-[calc(25%+12px)] flex items-center pointer-events-none\"\n  }, [_createElementVNode(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    class: \"h-5 w-5 text-gray-700\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, [_createElementVNode(\"path\", {\n    \"fill-rule\": \"evenodd\",\n    d: \"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1111.69 3.635l3.387 3.387a1 1 0 01-1.414 1.414l-3.387-3.387A6 6 0 012 8z\",\n    \"clip-rule\": \"evenodd\"\n  })])], -1 /* HOISTED */))]), _createCommentVNode(\" Tabla y mensaje a la par \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Tabla de correos \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", _hoisted_5, [_cache[5] || (_cache[5] = _createElementVNode(\"thead\", {\n    class: \"text-xs uppercase bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"px-6 py-3\"\n  }, \"Subject\"), _createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"px-6 py-3\"\n  }, \"From\"), _createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"px-6 py-3\"\n  }, \"To\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.emails, (email, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      onClick: $event => $setup.selectEmail(email),\n      class: \"bg-white border-b hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700 cursor-pointer\"\n    }, [_createElementVNode(\"td\", _hoisted_7, _toDisplayString(email.subject), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(email.from), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(email.to), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */)), $setup.emails.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_10, _cache[4] || (_cache[4] = [_createElementVNode(\"td\", {\n    colspan: \"3\",\n    class: \"px-6 py-4 text-center text-gray-500\"\n  }, \"No results found\", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true)])])]), _createCommentVNode(\" Input para Body Message \"), _createElementVNode(\"div\", _hoisted_11, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\"\n  }, \"Body Message:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.selectedEmailBody = $event),\n    class: \"w-full h-40 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-700\",\n    readonly: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.selectedEmailBody]])])])]), _createVNode(_component_FooterPage)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_Fragment","_createVNode","_component_NavBar","_createElementVNode","_hoisted_1","_createCommentVNode","_hoisted_2","type","placeholder","_cache","$event","$setup","searchQuery","onKeyup","_withKeys","args","searchEmails","xmlns","viewBox","fill","d","_hoisted_3","_hoisted_4","_hoisted_5","scope","_renderList","emails","email","index","onClick","selectEmail","_hoisted_7","_toDisplayString","subject","_hoisted_8","from","_hoisted_9","to","_hoisted_6","length","_hoisted_10","colspan","_hoisted_11","selectedEmailBody","readonly","_component_FooterPage"],"sources":["/home/jorge/Escritorio/Jorge-PC/Prueba Bancooci/frontend/src/views/Project.vue"],"sourcesContent":["<template>\n    <NavBar class=\"fixed bg-white text-green shadow-lg w-full z-50\" />\n    <div class=\"min-h-screen flex flex-col justify-center items-center overflow-hidden\">\n        <h1 class=\"font-bold text-center text-green-800 mb-20 text-4xl\">Mail</h1>\n\n        <!-- Barra de búsqueda -->\n        <div class=\"relative w-full mx-4 flex justify-center\">\n            <input \n                type=\"text\" \n                placeholder=\"Buscar...\" \n                v-model=\"searchQuery\"\n                @keyup.enter=\"searchEmails\"\n                class=\"w-1/2 pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-700\"\n            />\n            <div class=\"absolute inset-y-0 left-[calc(25%+12px)] flex items-center pointer-events-none\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 text-gray-700\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fill-rule=\"evenodd\" d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1111.69 3.635l3.387 3.387a1 1 0 01-1.414 1.414l-3.387-3.387A6 6 0 012 8z\" clip-rule=\"evenodd\" />\n                </svg>\n            </div>\n        </div>\n\n        <!-- Tabla y mensaje a la par -->\n        <div class=\"flex items-start space-x-6 mt-10\">\n            <!-- Tabla de correos -->\n            <div class=\"relative overflow-x-auto shadow-md sm:rounded-lg w-2/3\">\n                <table class=\"w-full text-sm text-left text-gray-600 dark:text-gray-300\">\n                    <thead class=\"text-xs uppercase bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300\">\n                        <tr>\n                            <th scope=\"col\" class=\"px-6 py-3\">Subject</th>\n                            <th scope=\"col\" class=\"px-6 py-3\">From</th>\n                            <th scope=\"col\" class=\"px-6 py-3\">To</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr \n                            v-for=\"(email, index) in emails\" \n                            :key=\"index\" \n                            @click=\"selectEmail(email)\" \n                            class=\"bg-white border-b hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700 cursor-pointer\"\n                        >\n                            <td class=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">{{ email.subject }}</td>\n                            <td class=\"px-6 py-4\">{{ email.from }}</td>\n                            <td class=\"px-6 py-4\">{{ email.to }}</td>\n                        </tr>\n                        <tr v-if=\"emails.length === 0\">\n                            <td colspan=\"3\" class=\"px-6 py-4 text-center text-gray-500\">No results found</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n\n            <!-- Input para Body Message -->\n            <div class=\"w-1/3\">\n                <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Body Message:</label>\n                <textarea \n                    v-model=\"selectedEmailBody\" \n                    class=\"w-full h-40 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-700\"\n                    readonly\n                ></textarea>\n            </div>\n        </div>\n    </div>\n    <FooterPage/>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { ref, onMounted } from 'vue';\nimport NavBar from \"../components/Nav.vue\";\nimport FooterPage from \"../components/Footer.vue\";\n\nexport default {\n    name: \"ProjectView\",\n    components: { NavBar, FooterPage },\n    setup() {\n        const searchQuery = ref(\"\");  // Para la búsqueda\n        const emails = ref([]);  // Lista de correos\n        const selectedEmailBody = ref(\"\");  // Cuerpo del email seleccionado\n\n        // Función para obtener todos los correos (carga inicial)\n        const fetchEmails = async () => {\n            try {\n                const response = await axios.get(\"http://localhost:8081/search?q=*\"); // Buscar todos los correos\n                emails.value = response.data;\n            } catch (error) {\n                console.error(\"Error al obtener los correos:\", error);\n            }\n        };\n\n        // Función para buscar correos con filtro\n        const searchEmails = async () => {\n            try {\n                const query = searchQuery.value.trim();\n                const response = await axios.get(`http://localhost:8081/search?q=${query || \"*\"}`); // Si está vacío, traer todos\n                emails.value = response.data;\n            } catch (error) {\n                console.error(\"Error al buscar los correos:\", error);\n            }\n        };\n\n        // Función para seleccionar un correo y mostrar su cuerpo\n        const selectEmail = (email) => {\n            selectedEmailBody.value = email.body || \"No message available\";  // Si no hay cuerpo, mostrar mensaje predeterminado\n        };\n\n        // Cargar correos al montar el componente\n        onMounted(fetchEmails);\n\n        return { searchQuery, emails, searchEmails, selectedEmailBody, selectEmail };\n    }\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}